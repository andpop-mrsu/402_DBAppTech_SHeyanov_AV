<!doctype html>
<html lang="ru">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>–°–∞–ø–µ—Ä - –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è –†–∞–±–æ—Ç–∞ 8</title>
        <link rel="stylesheet" href="styles.css" />
    </head>
    <body>
        <div id="particles-bg"></div>

        <div class="app">
            <header class="main-header">
                <h1>–°–∞–ø–µ—Ä</h1>
            </header>

            <div class="main-layout">
                <div class="game-column">
                    <div class="game-controls-top">
                        <div class="status-bar">
                            <div id="timer" title="–í—Ä–µ–º—è –∏–≥—Ä—ã">00:00</div>
                            <div id="remaining" title="–û—Å—Ç–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ –º–∏–Ω">
                                –ú–∏–Ω—ã: --
                            </div>
                        </div>
                        <div class="action-buttons">
                            <button
                                id="flagModeBtn"
                                class="icon-btn"
                                title="–†–µ–∂–∏–º —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ñ–ª–∞–≥–æ–≤"
                            >
                                üö©
                            </button>
                            <button
                                id="surrenderBtn"
                                class="secondary danger"
                                disabled
                            >
                                –°–¥–∞—Ç—å—Å—è
                            </button>
                        </div>
                    </div>

                    <div class="board-wrap">
                        <div id="board" class="board"></div>
                    </div>
                </div>

                <aside class="sidebar">
                    <div class="panel settings-panel">
                        <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>

                        <div class="input-group">
                            <label for="playerName">–ò–º—è –∏–≥—Ä–æ–∫–∞</label>
                            <input
                                type="text"
                                id="playerName"
                                placeholder="–ê–Ω–æ–Ω–∏–º"
                            />
                        </div>

                        <div class="input-row">
                            <div class="input-group">
                                <label for="widthInput">–®–∏—Ä–∏–Ω–∞ (2-20)</label>
                                <input
                                    type="number"
                                    id="widthInput"
                                    value="10"
                                    min="2"
                                    max="20"
                                />
                            </div>
                            <div class="input-group">
                                <label for="heightInput">–í—ã—Å–æ—Ç–∞ (2-20)</label>
                                <input
                                    type="number"
                                    id="heightInput"
                                    value="10"
                                    min="2"
                                    max="20"
                                />
                            </div>
                        </div>

                        <div class="input-group toggle-group">
                            <label for="randomMinesCheck"
                                >–°–ª—É—á–∞–π–Ω–æ–µ –∫–æ–ª-–≤–æ –º–∏–Ω</label
                            >
                            <label class="switch">
                                <input type="checkbox" id="randomMinesCheck" />
                                <span class="slider round"></span>
                            </label>
                        </div>

                        <div class="input-group">
                            <label for="minesInput">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∏–Ω</label>
                            <input
                                type="number"
                                id="minesInput"
                                value="15"
                                min="1"
                            />
                        </div>

                        <button id="restartBtn" class="primary full-width">
                            –ù–æ–≤–∞—è –∏–≥—Ä–∞
                        </button>
                    </div>

                    <div class="panel history-panel">
                        <h2>–ò—Å—Ç–æ—Ä–∏—è</h2>
                        <button
                            id="openHistoryBtn"
                            class="secondary full-width"
                        >
                            –ü–æ–∫–∞–∑–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é
                        </button>
                        <button
                            id="clearHistoryBtn"
                            class="secondary danger full-width"
                            style="margin-top: 8px"
                        >
                            –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é
                        </button>
                    </div>
                </aside>
            </div>
        </div>

        <div id="historyModal" class="modal hidden" aria-hidden="true">
            <div class="modal-backdrop"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h2>–ò—Å—Ç–æ—Ä–∏—è –∏–≥—Ä</h2>
                    <button id="closeHistoryBtn" class="icon-btn close-btn">
                        ‚úï
                    </button>
                </div>
                <div class="modal-body" id="historyBodyContainer">
                    <table class="history-table">
                        <thead>
                            <tr id="historyHeader">
                                <th data-sort="player">–ò–≥—Ä–æ–∫</th>
                                <th data-sort="date">–î–∞—Ç–∞</th>
                                <th data-sort="size">–†–∞–∑–º–µ—Ä</th>
                                <th data-sort="mines">–ú–∏–Ω—ã</th>
                                <th data-sort="seconds">–í—Ä–µ–º—è</th>
                                <th data-sort="victory">–†–µ–∑—É–ª—å—Ç–∞—Ç</th>
                                <th>–î–µ–π—Å—Ç–≤–∏–µ</th>
                            </tr>
                        </thead>
                        <tbody id="historyBody"></tbody>
                    </table>
                </div>
                <div class="modal-footer">
                    <button
                        class="secondary"
                        onclick="document.getElementById('closeHistoryBtn').click()"
                    >
                        –ó–∞–∫—Ä—ã—Ç—å
                    </button>
                </div>
            </div>
        </div>

        <div id="loseBanner" class="banner hidden">
            <div class="banner-content">
                <h2 class="banner-title lose-title">–í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏!</h2>
                <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.</p>
                <div class="banner-actions">
                    <button id="restartBtnBanner" class="primary">
                        –ó–∞–Ω–æ–≤–æ
                    </button>
                </div>
            </div>
        </div>

        <div id="winBanner" class="banner hidden">
            <div class="banner-content">
                <h2 class="banner-title win-title">–ü–æ–±–µ–¥–∞!</h2>
                <p>–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º, –≤—ã –æ—á–∏—Å—Ç–∏–ª–∏ –ø–æ–ª–µ!</p>
                <div class="banner-actions">
                    <button id="newGameWinBtn" class="win-btn">
                        –ù–æ–≤–∞—è –∏–≥—Ä–∞
                    </button>
                </div>
            </div>
        </div>

        <div id="replayOverlay" class="replay-overlay hidden">
            <div class="replay-info">
                <span id="replayStatus" class="replay-status"
                    >–ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–≤—Ç–æ—Ä–∞</span
                >
            </div>
            <div class="replay-controls">
                <button id="replayStepBtn">–®–∞–≥</button>
                <button id="replayPlayBtn">–ê–≤—Ç–æ</button>
                <button id="replayCloseBtn">–í—ã—Ö–æ–¥</button>
            </div>
        </div>

        <script type="module" src="app.js"></script>
    </body>
</html>
